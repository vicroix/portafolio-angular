<section class="contenedor-proyecto flex flex-col items-center">
  <div class="flex flex-col gap-3 w-[80%] min-w-[300px] px-[10%]">
    <!-- Flecha para volver -->
    <div>
      <a [routerLink]="['']" class="sm:m-4 flex gap-3 items-center">
        <!-- SVG Flecha -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          width="15"
          height="15"
          viewBox="0 0 48 48"
          class="fill-[rgb(169,56,243)] cambio-color-flecha hover-mover-flecha"
        >
          <path
            d="M 34.470703 2.9863281 A 1.50015 1.50015 0 0 0 33.439453 3.4394531 L 13.939453 22.939453 A 1.50015 1.50015 0 0 0 13.939453 25.060547 L 33.439453 44.560547 A 1.50015 1.50015 0 1 0 35.560547 42.439453 L 17.121094 24 L 35.560547 5.5605469 A 1.50015 1.50015 0 0 0 34.470703 2.9863281 z"
          ></path>
        </svg>
        <label [ngClass]="fontH2" class="cambio-color-volver">Volver</label>
      </a>
    </div>

    <!-- Título del proyecto -->
    <div class="ml-5 h-10 sm:h-20 mt-3">
      <h2 class="titulo-detalles flex font-bold">{{ proyecto?.titulo }}</h2>
    </div>

    <div class="flex flex-col gap-10 ">
      <div
        class="relative max-w-[950px] flex justify-center mx-auto overflow-hidden"
      >
        <!-- Imagen -->
        <div
          class="flex max-h-[450px] sm:h-full transition-transform duration-500"
          [style.transform]="'translateX(-' + indiceActual * 100 + '%)'"
        >
          <img
            *ngFor="let img of proyecto.imagen"
            class="object-contain w-full h-full"
            [src]="'assets/img/' + img"
            [alt]="proyecto.titulo"
          />
        </div>

        <!-- Flecha izquierda -->
        <button
          id="arrowCaruselLeft"
          class="absolute button-carusel-arrow top-1/2 left-10 -translate-y-1/2 px-3 py-1 rounded-full"
          (click)="anterior()"
        >
          <svg
            class="svg-caruselArrow"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="m7.825 13l4.9 4.9q.3.3.288.7t-.313.7q-.3.275-.7.288t-.7-.288l-6.6-6.6q-.15-.15-.213-.325T4.426 12t.063-.375t.212-.325l6.6-6.6q.275-.275.688-.275t.712.275q.3.3.3.713t-.3.712L7.825 11H19q.425 0 .713.288T20 12t-.288.713T19 13z"
            />
          </svg>
        </button>

        <!-- Flecha derecha -->
        <button
          id="arrowCaruselRight"
          class="absolute button-carusel-arrow top-1/2 right-11 -translate-y-1/2 px-3 py-1 rounded-full"
          (click)="siguiente()"
        >
          <svg
            class="svg-caruselArrow"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M16.175 13H5q-.425 0-.712-.288T4 12t.288-.712T5 11h11.175l-4.9-4.9q-.3-.3-.288-.7t.313-.7q.3-.275.7-.288t.7.288l6.6 6.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-6.6 6.6q-.275.275-.687.275T11.3 19.3q-.3-.3-.3-.712t.3-.713z"
            />
          </svg>
        </button>
      </div>

      <!--Contenido de la descripción-->
      <div class="contenedor-detalles">
        <div class="flex flex-col md:p-8 lg:p-8 xl:p-8 2xl:p-8 sm:mr-5 break-words">
          <ng-container *ngFor="let elemento of proyecto?.descripcion">
            <ng-container [ngSwitch]="elemento.tipo">
              <!-- TITULO -->
                 <h3
                   *ngSwitchCase="'titulo'"
                   class="text-2xl font-semibold text-[rgb(169,56,243)]"
                 >
                   {{ elemento.contenido }}
                 </h3>
   
                 <!-- LISTA -->
                 <ul
                   *ngSwitchCase="'lista-ordenada'"
                   class="flex flex-wrap gap-x-8 gap-y-2 pl-5 text-gray-700 dark:text-gray-300"
                 >
                   <li
                     *ngFor="let tecnologias of elemento.contenido"
                     class="font-bold border-1 border-gray-300 bg-secundary text-skills rounded-md p-3"
                   >
                     {{ tecnologias }}
                   </li>
                 </ul>
   
                 <ol *ngSwitchCase="'lista-desordenada'" class="pl-5">
                   <li *ngFor="let tecnologias of elemento.contenido">
                     {{ tecnologias }}
                   </li>
                 </ol>
                 <!-- PÁRRAFO -->
                 <p
                   *ngSwitchCase="'parrafo'"
                   class="leading-relaxed"
                   [ngClass]="elemento?.clases"
                   [innerHTML]="elemento.contenido"
                 ></p>
            </ng-container>
          </ng-container>
        </div>
      </div>

      <!-- Vídeo y link a git -->
      <div class="flex flex-col align-middle gap-3 sm:ml-15">
        <ng-container *ngIf="proyecto?.video">
          <video
            class="videos w-160 h-auto shadow-sm"
            [src]="'assets/video/' + proyecto?.video"
            muted
            controls
            playsinline
          ></video>
        </ng-container>

        <a
          [href]="proyecto?.enlace"
          [ngClass]="botonGit1"
          [title]="proyecto?.enlace"
          target="_blank"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="15"
            height="15"
            viewBox="0 0 24 24"
          >
            <g
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
            >
              <path
                d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5c.08-1.25-.27-2.48-1-3.5c.28-1.15.28-2.35 0-3.5c0 0-1 0-3 1.5c-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5c-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"
              />
              <path d="M9 18c-4.51 2-5-2-7-2" />
            </g>
          </svg>
          Código
        </a>
      </div>
    </div>
  </div>
</section>
